this.EmailsInput=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o={placeholder:"add email..."},a=function(){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,n),!(t instanceof HTMLElement))throw new TypeError("Failed to execute 'EmailsInput': parameter 1 in constructor is not of type 'HTMLElement'");this.options=r(r({},o),i),this.parentNode=t,this.store=[],this.add=this.add.bind(this),this.destroy=this.destroy.bind(this),this.getAll=this.getAll.bind(this),this._createContainer(),this._addEventListeners()}var i,a,s;return i=n,(a=[{key:"add",value:function(e){if("string"!=typeof e)throw new TypeError("Failed to execute 'add' on 'EmailsInput': parameter 1 is not of type 'string'");var t=e&&e.trim();if(t&&(this.inputNode.value=null,!this.store.some((function(e){return e.email===t})))){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t);return this._createChipElement(t,n),this._addToStore({email:t,isValid:n}),{isValid:n}}}},{key:"getAll",value:function(){return this.store}},{key:"destroy",value:function(){this.parentNode.removeChild(this.containerNode),this.eventListeners.forEach((function(e){return e()}))}},{key:"_addEventListeners",value:function(){var e=this,t=function(){e.inputNode.focus()},n=function(){e.add(e.inputNode.value)},i=function(t){"Enter"!==t.key&&","!==t.key||(t.preventDefault(),e.add(e.inputNode.value))},r=function(t){t.preventDefault(),(t.clipboardData||window.clipboardData).getData("text").split(",").forEach(e.add)};this.containerNode.addEventListener("click",t),this.inputNode.addEventListener("blur",n),this.inputNode.addEventListener("keydown",i),this.inputNode.addEventListener("paste",r),this.eventListeners=[function(){return e.containerNode.removeEventListener("click",t)},function(){return e.inputNode.removeEventListener("blur",n)},function(){return e.inputNode.removeEventListener("keydown",i)},function(){return e.inputNode.removeEventListener("paste",r)}]}},{key:"_addToStore",value:function(e){var t=e.email,n=e.isValid;this.store.push({email:t,isValid:n})}},{key:"_removeFromStore",value:function(e){this.store=this.store.filter((function(t){return t.email!==e}))}},{key:"_createChipElement",value:function(e,t){var n=this,i=document.createElement("span");i.classList.add("chip"),i.appendChild(document.createTextNode(e)),t||i.classList.add("chip--invalid");var r=document.createElement("button");r.setAttribute("aria-label","Delete"),r.classList.add("chip__button"),r.innerHTML='\n      <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path id="chip-remove" fill-rule="evenodd" clip-rule="evenodd" d="M8 0.8L7.2 0L4 3.2L0.8 0L0 0.8L3.2 4L0 7.2L0.8 8L4 4.8L7.2 8L8 7.2L4.8 4L8 0.8Z" fill="#050038" />\n      </svg>\n    ';var o=function t(){r.removeEventListener("click",t),n.containerNode.removeChild(i),n._removeFromStore(e)};r.addEventListener("click",o),this.eventListeners.push((function(){return r.removeEventListener("click",o)})),i.appendChild(r),this.inputNode.insertAdjacentElement("beforebegin",i)}},{key:"_createContainer",value:function(){var e=document.createElement("input");e.classList.add("emails-input__input"),e.setAttribute("type","text"),e.setAttribute("placeholder",this.options.placeholder);var t=document.createElement("div");t.classList.add("emails-input"),t.appendChild(e),this.parentNode.innerHTML="",this.parentNode.appendChild(t),this.containerNode=t,this.inputNode=e}}])&&t(i.prototype,a),s&&t(i,s),n}();return function(e,t){var n=new a(e,t);return{add:n.add,getAll:n.getAll,destroy:n.destroy}}}();
